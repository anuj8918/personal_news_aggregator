{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\OneDrive\\\\Desktop\\\\news\\\\news-aggregator\\\\src\\\\components\\\\NewsAggregator.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst fetchNews = async ({\n  queryKey\n}) => {\n  const [, category, searchTerm, currentPage] = queryKey;\n  const BACKEND_URL = process.env.NODE_ENV === \"development\" ? \"http://localhost:5000/news\" : \"https://your-production-url.com/news\";\n  const response = await fetch(`${BACKEND_URL}?category=${category}&q=${searchTerm}&page=${currentPage}`);\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch news\");\n  }\n  return response.json();\n};\nconst NewsAggregator = () => {\n  _s();\n  const [category, setCategory] = useState(\"general\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const {\n    data: news = [],\n    isLoading,\n    error\n  } = useQuery({\n    queryKey: [\"news\", category, searchTerm, currentPage],\n    queryFn: fetchNews\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"News Aggregator\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 20\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Error loading news\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 48\n    }, this) : /*#__PURE__*/_jsxDEV(NewsGrid, {\n      children: news.map((article, index) => /*#__PURE__*/_jsxDEV(NewsCard, {\n        children: [article.urlToImage && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: article.urlToImage,\n          alt: article.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 38\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: article.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: article.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: article.url,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"Read more\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(NewsAggregator, \"9MOEnohzw7ANTsP/PP8N0quKxAU=\", false, function () {\n  return [useQuery];\n});\n_c = NewsAggregator;\nconst Container = styled.div`\n  text-align: center;\n`;\n_c2 = Container;\nconst NewsGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 20px;\n  padding: 20px;\n`;\n_c3 = NewsGrid;\nconst NewsCard = styled.div`\n  border: 1px solid #ddd;\n  padding: 10px;\n  border-radius: 5px;\n`;\n_c4 = NewsCard;\nexport default NewsAggregator;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"NewsAggregator\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"NewsGrid\");\n$RefreshReg$(_c4, \"NewsCard\");","map":{"version":3,"names":["useState","useQuery","styled","jsxDEV","_jsxDEV","fetchNews","queryKey","category","searchTerm","currentPage","BACKEND_URL","process","env","NODE_ENV","response","fetch","ok","Error","json","NewsAggregator","_s","setCategory","setSearchTerm","setCurrentPage","data","news","isLoading","error","queryFn","Container","children","fileName","_jsxFileName","lineNumber","columnNumber","NewsGrid","map","article","index","NewsCard","urlToImage","src","alt","title","description","href","url","target","rel","_c","div","_c2","_c3","_c4","$RefreshReg$"],"sources":["C:/Users/PC/OneDrive/Desktop/news/news-aggregator/src/components/NewsAggregator.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useQuery } from \"react-query\";\r\nimport styled from \"styled-components\";\r\n\r\ninterface NewsArticle {\r\n  title: string;\r\n  urlToImage?: string;\r\n  description: string;\r\n  url: string;\r\n}\r\n\r\nconst fetchNews = async ({ queryKey }: { queryKey: [string, string, string, number] }): Promise<NewsArticle[]> => {\r\n  const [, category, searchTerm, currentPage] = queryKey;\r\n  const BACKEND_URL =\r\n    process.env.NODE_ENV === \"development\"\r\n      ? \"http://localhost:5000/news\"\r\n      : \"https://your-production-url.com/news\";\r\n\r\n  const response = await fetch(`${BACKEND_URL}?category=${category}&q=${searchTerm}&page=${currentPage}`);\r\n  if (!response.ok) {\r\n    throw new Error(\"Failed to fetch news\");\r\n  }\r\n  return response.json();\r\n};\r\n\r\nconst NewsAggregator = () => {\r\n  const [category, setCategory] = useState(\"general\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  const { data: news = [], isLoading, error } = useQuery<NewsArticle[]>({\r\n    queryKey: [\"news\", category, searchTerm, currentPage],\r\n    queryFn: fetchNews,\r\n  });\r\n\r\n  return (\r\n    <Container>\r\n      <h1>News Aggregator</h1>\r\n\r\n      {isLoading ? <p>Loading...</p> : error ? <p>Error loading news</p> : (\r\n        <NewsGrid>\r\n          {news.map((article: NewsArticle, index: number) => (\r\n            <NewsCard key={index}>\r\n              {article.urlToImage && <img src={article.urlToImage} alt={article.title} />}\r\n              <h2>{article.title}</h2>\r\n              <p>{article.description}</p>\r\n              <a href={article.url} target=\"_blank\" rel=\"noopener noreferrer\">Read more</a>\r\n            </NewsCard>\r\n          ))}\r\n        </NewsGrid>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nconst NewsGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n  gap: 20px;\r\n  padding: 20px;\r\n`;\r\n\r\nconst NewsCard = styled.div`\r\n  border: 1px solid #ddd;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n`;\r\n\r\nexport default NewsAggregator;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}